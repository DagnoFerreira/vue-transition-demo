!function(){"use strict";new Vue({el:"#app",components:{icon:{template:'<svg><use :xlink:href="use"/></svg>',props:["use"]}},data:function(){return{rating:4,menu:null,modal:!1,companies:[],countries:{},categories:{}}},computed:{list:function(){var t=this,e=this.filters,n=e.countries,i=e.categories;return this.companies.filter(function(e){var s=e.country,o=e.keywords;return!(e.rating<t.rating)&&(!(n.length&&!~n.indexOf(s))&&(!i.length||i.every(function(t){return~o.indexOf(t)})))})},filters:function(){var t=this;return{list:{countries:this.countries,categories:this.categories},countries:Object.keys(this.countries).filter(function(e){return t.countries[e]}),categories:Object.keys(this.categories).filter(function(e){return t.categories[e]})}}},methods:{setFilter:function(t,e){var n=this,i=this[t][e];this[t][e]=!i,"categories"===t&&setTimeout(function(){Object.keys(n.categories).forEach(function(t){n.categories[t]=e===t&&!i})},200)},clearFilter:function(t){var e=this;Object.keys(this[t]).forEach(function(n){e[t][n]=!1})},setMenu:function(t){this.menu=this.menu===t?null:t}},beforeMount:function(){var t=this;fetch("https://s3-us-west-2.amazonaws.com/s.cdpn.io/450744/mock-data.json").then(function(t){return t.json()}).then(function(e){t.companies=e,e.forEach(function(e){var n=e.country,i=e.keywords;t.countries.hasOwnProperty(n)||t.$set(t.countries,n,!1),i.forEach(function(e){t.categories.hasOwnProperty(e)||t.$set(t.categories,e,!1)})})})}}),fetch("https://s3-us-west-2.amazonaws.com/s.cdpn.io/450744/mock-logos.svg").then(function(t){return t.text()}).then(function(t){var e=document.createElement("figure");e.style.display="none",e.innerHTML=t,document.body.insertBefore(e,document.body.children[0])})}();
!function(){"use strict";new Vue({el:"#app",components:{icon:{template:'<svg><use :xlink:href="use"/></svg>',props:["use"]}},data:function(){return{modal:!1,companies:[],dropdown:{height:0},rating:{min:10,max:0},filters:{countries:{},categories:{},rating:0},menus:{countries:!1,categories:!1,rating:!1}}},computed:{activeMenu:function(){var t=this;return Object.keys(this.menus).reduce(function(e,n,i){return t.menus[n]?i:e},-1)},list:function(){var t=this,e=this.activeFilters,n=e.countries,i=e.categories;return this.companies.filter(function(e){var r=e.country,s=e.keywords;return!(e.rating<t.filters.rating)&&(!(n.length&&!~n.indexOf(r))&&(!i.length||i.every(function(t){return~s.indexOf(t)})))})},activeFilters:function(){var t=this.filters,e=t.countries,n=t.categories;return{countries:Object.keys(e).filter(function(t){return e[t]}),categories:Object.keys(n).filter(function(t){return n[t]})}}},watch:{activeMenu:function(t,e){var n=this;t!==e&&this.$nextTick(function(){n.$refs.menu&&n.$refs.menu[t]?n.dropdown.height=n.$refs.menu[t].clientHeight+16+"px":n.dropdown.height=0})}},methods:{setFilter:function(t,e,n){var i=this,r=this.filters[t][e];this.filters[t][e]=!r,n&&setTimeout(function(){Object.keys(i.filters[t]).forEach(function(n){i.filters[t][n]=e===n&&!r})},200)},clearFilter:function(t){var e=this;(t?[t]:Object.keys(this.filters)).forEach(function(t){Object.keys(e.filters[t]).forEach(function(n){e.filters[t][n]=!1})})},setMenu:function(t,e){var n=this;Object.keys(this.menus).forEach(function(i){n.menus[i]=!e&&i===t})}},beforeMount:function(){var t=this;fetch("https://s3-us-west-2.amazonaws.com/s.cdpn.io/450744/mock-data.json").then(function(t){return t.json()}).then(function(e){t.companies=e,e.forEach(function(e){var n=e.country,i=e.keywords,r=e.rating;t.$set(t.filters.countries,n,!1),t.rating.max<r&&(t.rating.max=r),t.rating.min>r&&(t.rating.min=r,t.filters.rating=r),i.forEach(function(e){t.$set(t.filters.categories,e,!1)})})})}}),fetch("https://s3-us-west-2.amazonaws.com/s.cdpn.io/450744/mock-logos.svg").then(function(t){return t.text()}).then(function(t){var e=document.createElement("figure");e.style.display="none",e.innerHTML=t,document.body.insertBefore(e,document.body.children[0])})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMvaW5kZXguanMiXSwibmFtZXMiOlsiVnVlIiwidGVtcGxhdGUiLCJwcm9wcyIsImhlaWdodCIsIm1pbiIsIm1heCIsImNvdW50cmllcyIsImNhdGVnb3JpZXMiLCJyYXRpbmciLCJPYmplY3QiLCJrZXlzIiwidGhpcyIsIm1lbnVzIiwicmVkdWNlIiwiJCQiLCJzZXQiLCJpIiwiX3RoaXMiLCJhY3RpdmVGaWx0ZXJzIiwiX2FjdGl2ZUZpbHRlcnMiLCJmaWx0ZXIiLCJfcmVmIiwia2V5d29yZHMiLCJmaWx0ZXJzIiwibGVuZ3RoIiwiaW5kZXhPZiIsImNvdW50cnkiLCJldmVyeSIsImNhdCIsIl9maWx0ZXJzIiwiYyIsImNvbXBhbmllcyIsImluZGV4IiwiJG5leHRUaWNrIiwiX3RoaXMzIiwiJHJlZnMiLCJtZW51IiwiZHJvcGRvd24iLCJjbGllbnRIZWlnaHQiLCJzaW5nbGUiLCJhY3RpdmUiLCJmb3JFYWNoIiwib3B0aW9uIiwiZnJvbSIsInRhYiIsInRoZW4iLCJyZXNwb25zZSIsImpzb24iLCJfcmVmMiIsIiRzZXQiLCJfdGhpczciLCJjYXRlZ29yeSIsImZldGNoIiwidGV4dCIsInNwcml0ZSIsImZpZ3VyZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwiZGlzcGxheSIsImlubmVySFRNTCIsImJvZHkiLCJpbnNlcnRCZWZvcmUiLCJjaGlsZHJlbiJdLCJtYXBwaW5ncyI6InlCQUFBLElBQUlBLFFBQ0UseUJBREVDLFNBQUEsc0NBQUFDLE9BQUEsY0FBQSx5QkFRSyx5QkFERkMsT0FBQSxXQUNFQyxJQURGLEdBQUFDLElBQUEsWUFFTUMsYUFGTkMsY0FBQUMsT0FBQSxVQU1JRixXQUhXLEVBSGZDLFlBQUEsRUFBQUMsUUFBQSwwQkFBUCw2QkFZU0MsT0FBT0MsS0FBS0MsS0FBS0MsT0FBT0MsT0FBTyxTQUFDQyxFQUFJQyxFQUFLQyxVQUFPQyxFQUFLTCxNQUFNRyxHQUFRQyxFQUFJRixJQUFLLFNBWnJGLHdCQWdCa0NILEtBQUtPLGNBQS9CWixFQUREYSxFQUNDYixVQUFXQyxFQURaWSxFQUNZWixrQkFKVkUsS0FBQUEsVUFBWVcsT0FBWixTQUFBQyxPQUF3QlIsRUFBT1EsRUFBUFIsUUFBT1MsRUFBQUQsRUFBQUMsaUJBQUFELEVBQUFiLE9BQXNCSSxFQUFMVyxRQUFtQlAsWUFBMUVWLEVBQUFrQixVQUFBbEIsRUFBQW1CLFFBQUFDLE9BRk1uQixFQUFBaUIsUUFBQWpCLEVBQUFvQixNQUFBLFNBQUFDLFVBQUFOLEVBQUFHLFFBQUFHLHdCQVZSLGlCQWdCUXRCLEtBQUFBLFFBQUFBLEVBU1F1QixFQVRSdkIsVUFEREMsRUFVU3NCLEVBVlR0Qiw0QkFjUUUsT0FBT0MsS0FBS0osR0FBV2MsT0FBTyxTQUFBVSxVQUFLeEIsRUFBVXdCLGdCQVg5Q0MsT0FBTHJCLEtBQWVVLEdBQU9BLE9BQW1DLFNBQUFVLFVBQUF2QixFQUFBdUIsMEJBaUI3RCxTQWZHeEIsRUFBVWtCLGNBaUJaUSxJQWhCTXpCLFFBQVIwQixVQUFBLFdBSEZDLEVBQUFDLE1BQUFDLE1BQUFGLEVBQUFDLE1BQUFDLEtBQUFKLEdBUk1FLEVBQUFHLFNBQUFsQyxPQUFBK0IsRUFBQUMsTUFBQUMsS0FBQUosR0FBQU0sYUFBQSxHQUFBLEtBUU5KLEVBQUFHLFNBQUFsQyxPQUFBLHlCQTRCSyxTQUNHWSxFQUFLSyxFQUFRbUIsY0FDakJDLEVBcEJHN0IsS0FBQVksUUFBQVIsR0FBQUssUUFxQkZHLFFBcEJRZCxHQUFBQSxJQUFZSCxFQXFCcEJpQyxjQUVNLGtCQUNGN0IsS0F2QnlDSCxFQUFBQSxRQUFMUSxJQUFBMEIsUUFBQSxTQUFBQyxLQUEvQm5CLFFBQUFSLEdBQUEyQixHQUFBdEIsSUFBQXNCLElBQUFGLEtBMEJYLGtCQVZFLFNBWEZELGVBQUFBLEdBQUFBLEdBQUE5QixPQUNtQkMsS0FBQUMsS0FBQVksVUEwQmRrQixRQUFRLFNBQUExQixVQXpCWmlCLEtBQVVXLEVBQWRwQixRQUFvQlIsSUFBQTBCLFFBQUEsU0FBQXJCLEtBMkJYRyxRQUFRUixHQUFLSyxJQUFVLGVBbEIzQixTQXJESGdCLEVBQUFJLHFCQTZFSzlCLEtBQUtDLEtBQUtDLE9BQU82QixRQUFRLFNBQUFHLEtBeEIzQmhDLE1BQUFnQyxJQUFBSixHQUFBSSxJQUFBUixrQkFyREgsNEJBeURFLHNFQTRCSFMsS0FBSyxTQUFBQyxVQUFZQSxFQUFTQyxTQUMxQkYsS0FBSyxTQUFBZCxLQUNDQSxVQTNCT0EsSUFBWlUsUUFBQSxTQUFBTyxPQUFBdEIsRUFBQXNCLEVBQUF0QixRQUFBSixFQUFBMEIsRUFBQTFCLFNBQUFkLEVBQUF3QyxFQUFBeEMsU0FERnlDLEtBQUFDLEVBQUEzQixRQUFBakIsVUFBQW9CLEdBQUEsR0FpQ1F3QixFQXZDSDFDLE9BQUFILElBQUFHLElBYUsrQixFQWJML0IsT0FhYUgsSUFBQUcsR0EyQlYwQyxFQUFLMUMsT0FBT0osSUFBTUksTUFDZkEsT0FBT0osSUFBTUksSUEzQnBCZSxRQUFXZ0IsT0FBV0EsS0FHeEJFLFFBQWlCbEIsU0FBQUEsS0FDVkEsS0FBQUEsRUFBUVIsUUFBS0ssV0FBbEIrQixHQUFBLFlBb0NWQyxNQUFNLHNFQUNIUCxLQS9CRyxTQUFBQyxVQUFBQSxFQUFBTyxTQUFBUixLQUFBLFNBQUFTLE9BZ0NFQyxFQUFTQyxTQUFTQyxjQUFjLFlBN0doQ0MsTUFBQUMsUUFBQSxTQStHR0MsVUFBWU4sV0EvR2ZPLEtBQUFDLGFBQUFQLEVBbUZRQyxTQUFBSyxLQUFBRSxTQUFBIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsibmV3IFZ1ZSh7XG4gIGVsOiAnI2FwcCcsXG4gIGNvbXBvbmVudHM6IHtcbiAgICAnaWNvbic6IHsgdGVtcGxhdGU6ICc8c3ZnPjx1c2UgOnhsaW5rOmhyZWY9XCJ1c2VcIi8+PC9zdmc+JywgcHJvcHM6IFsndXNlJ10gfVxuICB9LFxuXG4gIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1vZGFsOiBmYWxzZSxcbiAgICAgIGNvbXBhbmllczogW10sXG4gICAgICBkcm9wZG93bjogeyBoZWlnaHQ6IDAgfSxcbiAgICAgIHJhdGluZzogeyBtaW46IDEwLCBtYXg6IDAgfSxcbiAgICAgIGZpbHRlcnM6IHsgY291bnRyaWVzOiB7fSwgY2F0ZWdvcmllczoge30sIHJhdGluZzogMCB9LFxuICAgICAgbWVudXM6IHsgY291bnRyaWVzOiBmYWxzZSwgY2F0ZWdvcmllczogZmFsc2UsIHJhdGluZzogZmFsc2UgfVxuICAgIH1cbiAgfSxcblxuICBjb21wdXRlZDoge1xuICAgIGFjdGl2ZU1lbnUoKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5tZW51cykucmVkdWNlKCgkJCwgc2V0LCBpKSA9PiAodGhpcy5tZW51c1tzZXRdKSA/IGkgOiAkJCwgLTEpXG4gICAgfSxcblxuICAgIGxpc3QoKSB7XG4gICAgICBsZXQgeyBjb3VudHJpZXMsIGNhdGVnb3JpZXMgfSA9IHRoaXMuYWN0aXZlRmlsdGVyc1xuXG4gICAgICByZXR1cm4gdGhpcy5jb21wYW5pZXMuZmlsdGVyKCh7IGNvdW50cnksIGtleXdvcmRzLCByYXRpbmcgfSkgPT4ge1xuICAgICAgICBpZiAocmF0aW5nIDwgdGhpcy5maWx0ZXJzLnJhdGluZykgcmV0dXJuIGZhbHNlXG4gICAgICAgIGlmIChjb3VudHJpZXMubGVuZ3RoICYmICF+Y291bnRyaWVzLmluZGV4T2YoY291bnRyeSkpIHJldHVybiBmYWxzZVxuICAgICAgICByZXR1cm4gIWNhdGVnb3JpZXMubGVuZ3RoIHx8IGNhdGVnb3JpZXMuZXZlcnkoY2F0ID0+IH5rZXl3b3Jkcy5pbmRleE9mKGNhdCkpXG4gICAgICB9KVxuICAgIH0sXG5cbiAgICBhY3RpdmVGaWx0ZXJzKCkge1xuICAgICAgbGV0IHsgY291bnRyaWVzLCBjYXRlZ29yaWVzIH0gPSB0aGlzLmZpbHRlcnNcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY291bnRyaWVzOiBPYmplY3Qua2V5cyhjb3VudHJpZXMpLmZpbHRlcihjID0+IGNvdW50cmllc1tjXSksXG4gICAgICAgIGNhdGVnb3JpZXM6IE9iamVjdC5rZXlzKGNhdGVnb3JpZXMpLmZpbHRlcihjID0+IGNhdGVnb3JpZXNbY10pXG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIHdhdGNoOiB7XG4gICAgYWN0aXZlTWVudShpbmRleCwgZnJvbSkge1xuICAgICAgaWYgKGluZGV4ID09PSBmcm9tKSByZXR1cm47XG5cbiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLiRyZWZzLm1lbnUgfHwgIXRoaXMuJHJlZnMubWVudVtpbmRleF0pIHRoaXMuZHJvcGRvd24uaGVpZ2h0ID0gMFxuICAgICAgICBlbHNlIHRoaXMuZHJvcGRvd24uaGVpZ2h0ID0gYCR7dGhpcy4kcmVmcy5tZW51W2luZGV4XS5jbGllbnRIZWlnaHQgKyAxNn1weGBcbiAgICAgIH0pXG4gICAgfVxuICB9LFxuXG4gIG1ldGhvZHM6IHtcbiAgICBzZXRGaWx0ZXIoc2V0LCBmaWx0ZXIsIHNpbmdsZSkge1xuICAgICAgbGV0IGFjdGl2ZSA9IHRoaXMuZmlsdGVyc1tzZXRdW2ZpbHRlcl1cbiAgICAgIHRoaXMuZmlsdGVyc1tzZXRdW2ZpbHRlcl0gPSAhYWN0aXZlXG4gICAgICBpZiAoIXNpbmdsZSkgcmV0dXJuO1xuXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgT2JqZWN0LmtleXModGhpcy5maWx0ZXJzW3NldF0pLmZvckVhY2gob3B0aW9uID0+IHtcbiAgICAgICAgICB0aGlzLmZpbHRlcnNbc2V0XVtvcHRpb25dID0gZmlsdGVyID09PSBvcHRpb24gJiYgIWFjdGl2ZVxuICAgICAgICB9KVxuICAgICAgfSwgMjAwKVxuICAgIH0sXG5cbiAgICBjbGVhckZpbHRlcihzaW5nbGUpIHtcbiAgICAgIGxldCBmaWx0ZXJzID0gKHNpbmdsZSkgPyBbc2luZ2xlXSA6IE9iamVjdC5rZXlzKHRoaXMuZmlsdGVycylcblxuICAgICAgZmlsdGVycy5mb3JFYWNoKHNldCA9PiB7XG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMuZmlsdGVyc1tzZXRdKS5mb3JFYWNoKGZpbHRlciA9PiB7XG4gICAgICAgICAgdGhpcy5maWx0ZXJzW3NldF1bZmlsdGVyXSA9IGZhbHNlXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0sXG5cbiAgICBzZXRNZW51KG1lbnUsIGFjdGl2ZSkge1xuICAgICAgT2JqZWN0LmtleXModGhpcy5tZW51cykuZm9yRWFjaCh0YWIgPT4ge1xuICAgICAgICB0aGlzLm1lbnVzW3RhYl0gPSAhYWN0aXZlICYmIHRhYiA9PT0gbWVudVxuICAgICAgfSlcbiAgICB9XG4gIH0sXG5cbiAgYmVmb3JlTW91bnQoKSB7XG4gICAgZmV0Y2goJ2h0dHBzOi8vczMtdXMtd2VzdC0yLmFtYXpvbmF3cy5jb20vcy5jZHBuLmlvLzQ1MDc0NC9tb2NrLWRhdGEuanNvbicpXG4gICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgICAudGhlbihjb21wYW5pZXMgPT4ge1xuICAgICAgICB0aGlzLmNvbXBhbmllcyA9IGNvbXBhbmllc1xuXG4gICAgICAgIGNvbXBhbmllcy5mb3JFYWNoKCh7IGNvdW50cnksIGtleXdvcmRzLCByYXRpbmcgfSkgPT4ge1xuICAgICAgICAgIHRoaXMuJHNldCh0aGlzLmZpbHRlcnMuY291bnRyaWVzLCBjb3VudHJ5LCBmYWxzZSlcblxuICAgICAgICAgIGlmICh0aGlzLnJhdGluZy5tYXggPCByYXRpbmcpIHRoaXMucmF0aW5nLm1heCA9IHJhdGluZ1xuICAgICAgICAgIGlmICh0aGlzLnJhdGluZy5taW4gPiByYXRpbmcpIHtcbiAgICAgICAgICAgIHRoaXMucmF0aW5nLm1pbiA9IHJhdGluZ1xuICAgICAgICAgICAgdGhpcy5maWx0ZXJzLnJhdGluZyA9IHJhdGluZ1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGtleXdvcmRzLmZvckVhY2goY2F0ZWdvcnkgPT4ge1xuICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMuZmlsdGVycy5jYXRlZ29yaWVzLCBjYXRlZ29yeSwgZmFsc2UpXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gIH1cbn0pXG5cbi8vIGluamVjdCBzdmcgc3ByaXRlc2hlZXRcbmZldGNoKCdodHRwczovL3MzLXVzLXdlc3QtMi5hbWF6b25hd3MuY29tL3MuY2Rwbi5pby80NTA3NDQvbW9jay1sb2dvcy5zdmcnKVxuICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS50ZXh0KCkpLnRoZW4oc3ByaXRlID0+IHtcbiAgICBsZXQgZmlndXJlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZmlndXJlJylcbiAgICBmaWd1cmUuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgIGZpZ3VyZS5pbm5lckhUTUwgPSBzcHJpdGVcbiAgICBkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZShmaWd1cmUsIGRvY3VtZW50LmJvZHkuY2hpbGRyZW5bMF0pXG4gIH0pXG4iXX0=
